<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FEDEM Solver: src/vpmSolver/solverInterface.C File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FEDEM Solver
   &#160;<span id="projectnumber">R8.0</span>
   </div>
   <div id="projectbrief">Source code of the dynamics solver</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_7f3c9f0f37d82a60a32923c269310115.html">vpmSolver</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">solverInterface.C File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file contains the C++ wrappers of the FEDEM dynamics solver API.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="FFCmdLineArgInterface_8H_source.html">vpmCommon/FFCmdLineArgInterface.H</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="SignalHandler_8H_source.html">vpmCommon/SignalHandler.H</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="FiDeviceFunctionFactory_8H_source.html">FiDeviceFunctions/FiDeviceFunctionFactory.H</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="FFrReadOpInit_8H_source.html">FFrLib/FFrReadOpInit.H</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="FFaMathExprFactory_8H_source.html">FFaMathExpr/FFaMathExprFactory.H</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="FFaMsg_8H_source.html">FFaLib/FFaDefinitions/FFaMsg.H</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="FFaFortran_8H_source.html">FFaLib/FFaOS/FFaFortran.H</a>&quot;</code><br />
<code>#include &lt;cstring&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for solverInterface.C:</div>
<div class="dyncontent">
<div class="center"><img src="solverInterface_8C__incl.png" border="0" usemap="#asrc_2vpmSolver_2solverInterface_8C" alt=""/></div>
<map name="asrc_2vpmSolver_2solverInterface_8C" id="asrc_2vpmSolver_2solverInterface_8C">
<area shape="rect" title="This file contains the C++ wrappers of the FEDEM dynamics solver API." alt="" coords="623,5,854,32"/>
<area shape="rect" href="FFCmdLineArgInterface_8H.html" title="Wrapper for FFaCmdLineArg to facilitate use in shared object libraries." alt="" coords="687,80,969,107"/>
<area shape="rect" href="SignalHandler_8H.html" title="Handling of various OS signals casing the program to abort." alt="" coords="5,162,224,189"/>
<area shape="rect" href="FiDeviceFunctionFactory_8H.html" title="External device function factory (functions from file)." alt="" coords="248,155,448,196"/>
<area shape="rect" href="FFrReadOpInit_8H.html" title=" " alt="" coords="993,80,1164,107"/>
<area shape="rect" href="FFaMathExprFactory_8H.html" title=" " alt="" coords="472,162,725,189"/>
<area shape="rect" href="FFaMsg_8H.html" title=" " alt="" coords="750,155,909,196"/>
<area shape="rect" href="FFaFortran_8H.html" title="Macros to aid cross&#45;language linkage between C/C++ and Fortran." alt="" coords="1189,80,1382,107"/>
<area shape="rect" title=" " alt="" coords="1407,80,1473,107"/>
<area shape="rect" href="FFaCmdLineArg_8H.html" title="General command&#45;line option handler." alt="" coords="933,155,1101,196"/>
<area shape="rect" title=" " alt="" coords="568,251,627,278"/>
<area shape="rect" title=" " alt="" coords="651,251,714,278"/>
<area shape="rect" title=" " alt="" coords="739,251,789,278"/>
<area shape="rect" title=" " alt="" coords="1075,251,1155,278"/>
<area shape="rect" title=" " alt="" coords="1179,251,1253,278"/>
<area shape="rect" title=" " alt="" coords="895,251,961,278"/>
<area shape="rect" title=" " alt="" coords="985,251,1050,278"/>
<area shape="rect" href="FFaSingelton_8H.html" title=" " alt="" coords="401,244,543,285"/>
<area shape="rect" href="FFaIO_8H.html" title="Functions and data type for direct access of large binary files." alt="" coords="215,251,377,278"/>
<area shape="rect" title=" " alt="" coords="263,333,329,360"/>
<area shape="rect" title=" " alt="" coords="814,251,871,278"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a4b60c41b59dcd769b9136fea301094e0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="solverInterface_8C.html#a4b60c41b59dcd769b9136fea301094e0">DLLexport</a>(ret)&#160;&#160;&#160;extern &quot;C&quot; ret</td></tr>
<tr class="memdesc:a4b60c41b59dcd769b9136fea301094e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro for C++ binding to function in shared library on Linux.  <a href="solverInterface_8C.html#a4b60c41b59dcd769b9136fea301094e0">More...</a><br /></td></tr>
<tr class="separator:a4b60c41b59dcd769b9136fea301094e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab9dc47b4c335d26b290745edf4d0cdaf"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="solverInterface_8C.html#ab9dc47b4c335d26b290745edf4d0cdaf">checkState</a> (const char *prg, bool <a class="el" href="solverInterface_8h.html#aa3938c1804d216931223e52e29288419">startStep</a>=false)</td></tr>
<tr class="memdesc:ab9dc47b4c335d26b290745edf4d0cdaf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to check correct execution order.  <a href="solverInterface_8C.html#ab9dc47b4c335d26b290745edf4d0cdaf">More...</a><br /></td></tr>
<tr class="separator:ab9dc47b4c335d26b290745edf4d0cdaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c67b8ac12d62915478e684057e79864"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="solverInterface_8C.html#a1c67b8ac12d62915478e684057e79864">releaseGlobalHeapObjects</a> (bool removeFFlSingeltons=true)</td></tr>
<tr class="memdesc:a1c67b8ac12d62915478e684057e79864"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to release all global heap-allocated objects on exit.  <a href="solverInterface_8C.html#a1c67b8ac12d62915478e684057e79864">More...</a><br /></td></tr>
<tr class="separator:a1c67b8ac12d62915478e684057e79864"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a666a2f5fd6b04bac87d66bfa6f104aa0"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="solverInterface_8C.html#a666a2f5fd6b04bac87d66bfa6f104aa0">iop</a> = -100</td></tr>
<tr class="memdesc:a666a2f5fd6b04bac87d66bfa6f104aa0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal operation status variable.  <a href="solverInterface_8C.html#a666a2f5fd6b04bac87d66bfa6f104aa0">More...</a><br /></td></tr>
<tr class="separator:a666a2f5fd6b04bac87d66bfa6f104aa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file contains the C++ wrappers of the FEDEM dynamics solver API. </p>
<p>Each Fortran subroutine or function of the dynamics solver shared library that is supposed to be accessible for outside applications need to have their C++ wrapper implemented in this file. The subroutines/functions to be wrapped need to be declared using the <b>SUBROUTINE</b>, <b>INTEGER_FUNCTION</b> and <b>DOUBLE_FUNCTION</b> macros, which all are defined in the <a class="el" href="FFaFortran_8H.html" title="Macros to aid cross-language linkage between C/C++ and Fortran.">FFaFortran.H</a> file. They can then be invoked using the <b>F90_NAME</b> macro defined in the same file.</p>
<dl class="section author"><dt>Author</dt><dd>Knut Morten Okstad, Fedem Technology AS</dd></dl>
<dl class="section date"><dt>Date</dt><dd>2 Dec 2016 </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a4b60c41b59dcd769b9136fea301094e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b60c41b59dcd769b9136fea301094e0">&#9670;&nbsp;</a></span>DLLexport</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DLLexport</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ret</td><td>)</td>
          <td>&#160;&#160;&#160;extern &quot;C&quot; ret</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Macro for C++ binding to function in shared library on Linux. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab9dc47b4c335d26b290745edf4d0cdaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9dc47b4c335d26b290745edf4d0cdaf">&#9670;&nbsp;</a></span>checkState()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int checkState </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>prg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>startStep</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper function to check correct execution order. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">prg</td><td>Name of the calling function </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">startStep</td><td>If <em>true</em>, we are starting on a new time/load increment </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1c67b8ac12d62915478e684057e79864"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c67b8ac12d62915478e684057e79864">&#9670;&nbsp;</a></span>releaseGlobalHeapObjects()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void releaseGlobalHeapObjects </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>removeFFlSingeltons</em> = <code>true</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper function to release all global heap-allocated objects on exit. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">removeFFlSingeltons</td><td>If <em>true</em>, also release FE part objects if any</td></tr>
  </table>
  </dd>
</dl>
<p>This function is invoked as the final task of the simulation, and in case of error exit, in order to clean up heap memory in case a new solver run is invoked later by the same process. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a666a2f5fd6b04bac87d66bfa6f104aa0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a666a2f5fd6b04bac87d66bfa6f104aa0">&#9670;&nbsp;</a></span>iop</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int iop = -100</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Internal operation status variable. </p>
<p>This variable is used to record the current operation state by the various functions of the solver interface. It is updated inside those functions only and is used to ensure that they are invoked in a valid order. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Oct 15 2025 14:36:57 for FEDEM Solver by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
