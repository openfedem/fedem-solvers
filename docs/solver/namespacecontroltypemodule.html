<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FEDEM Solver: controltypemodule Module Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FEDEM Solver
   &#160;<span id="projectnumber">R8.0</span>
   </div>
   <div id="projectbrief">Source code of the dynamics solver</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Types</a> &#124;
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">controltypemodule Module Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Module with data types representing control system object of a model.  
<a href="namespacecontroltypemodule.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Types</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">type &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcontroltypemodule_1_1ctrlprm.html">ctrlprm</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data type representing a control input parameter.  <a href="structcontroltypemodule_1_1ctrlprm.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">type &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcontroltypemodule_1_1controltype.html">controltype</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data type representing the control system of a model.  <a href="structcontroltypemodule_1_1controltype.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacecontroltypemodule_1_1writeobject.html">writeobject</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Standard routine for writing an object to file.  <a href="interfacecontroltypemodule_1_1writeobject.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a4b26c395e0ddc175fc3a0671430c1eff"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecontroltypemodule.html#a4b26c395e0ddc175fc3a0671430c1eff">nullifyctrl</a> (ctrl, deallocating)</td></tr>
<tr class="memdesc:a4b26c395e0ddc175fc3a0671430c1eff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the ControlType object.  <a href="namespacecontroltypemodule.html#a4b26c395e0ddc175fc3a0671430c1eff">More...</a><br /></td></tr>
<tr class="separator:a4b26c395e0ddc175fc3a0671430c1eff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabb1918d67d6f1433abc016b097d1cad"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecontroltypemodule.html#aabb1918d67d6f1433abc016b097d1cad">deallocatectrl</a> (ctrl)</td></tr>
<tr class="memdesc:aabb1918d67d6f1433abc016b097d1cad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deallocates the ControlType object.  <a href="namespacecontroltypemodule.html#aabb1918d67d6f1433abc016b097d1cad">More...</a><br /></td></tr>
<tr class="separator:aabb1918d67d6f1433abc016b097d1cad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a437f76ff86b8f84f66f5ac34399d34e4"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecontroltypemodule.html#a437f76ff86b8f84f66f5ac34399d34e4">readcontrolsystem</a> (infp, engines, sensors, ctrl, ierr)</td></tr>
<tr class="memdesc:a437f76ff86b8f84f66f5ac34399d34e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the ControlType object with data from the input file.  <a href="namespacecontroltypemodule.html#a437f76ff86b8f84f66f5ac34399d34e4">More...</a><br /></td></tr>
<tr class="separator:a437f76ff86b8f84f66f5ac34399d34e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60bb7e757bd776520bb7ceff74c8fa50"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecontroltypemodule.html#a60bb7e757bd776520bb7ceff74c8fa50">initiatecontrol</a> (mpar, ctrl)</td></tr>
<tr class="memdesc:a60bb7e757bd776520bb7ceff74c8fa50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the SAM control array MPAR with control system data.  <a href="namespacecontroltypemodule.html#a60bb7e757bd776520bb7ceff74c8fa50">More...</a><br /></td></tr>
<tr class="separator:a60bb7e757bd776520bb7ceff74c8fa50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5369b89081ffd7c6f959e40846b54bc3"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecontroltypemodule.html#a5369b89081ffd7c6f959e40846b54bc3">readcontrolinput</a> (infp, engines, sensors, input, mstat, ierr)</td></tr>
<tr class="memdesc:a5369b89081ffd7c6f959e40846b54bc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads data for the control inputs from the solver input file.  <a href="namespacecontroltypemodule.html#a5369b89081ffd7c6f959e40846b54bc3">More...</a><br /></td></tr>
<tr class="separator:a5369b89081ffd7c6f959e40846b54bc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada31313ec8c6ef39f96a2928a963dd6c"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecontroltypemodule.html#ada31313ec8c6ef39f96a2928a963dd6c">readcontrolelements</a> (infp, nCEl, nDelay, mpmtop, mprpar, mmtop, rpar, iprint, lpu, ierr)</td></tr>
<tr class="memdesc:ada31313ec8c6ef39f96a2928a963dd6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads data for the control elements from the solver input file.  <a href="namespacecontroltypemodule.html#ada31313ec8c6ef39f96a2928a963dd6c">More...</a><br /></td></tr>
<tr class="separator:ada31313ec8c6ef39f96a2928a963dd6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a646f1776229632bdc330e72d188971cc"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecontroltypemodule.html#a646f1776229632bdc330e72d188971cc">readcontrolvariables</a> (infp, mstat, vreg, vregId, mvar, iprint, lpu, ierr)</td></tr>
<tr class="memdesc:a646f1776229632bdc330e72d188971cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads status codes and initial conditions for the control variables.  <a href="namespacecontroltypemodule.html#a646f1776229632bdc330e72d188971cc">More...</a><br /></td></tr>
<tr class="separator:a646f1776229632bdc330e72d188971cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e76ba88f521388eb57bbb51e77a659b"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecontroltypemodule.html#a5e76ba88f521388eb57bbb51e77a659b">writecontroltype</a> (ctrl, io, complexity)</td></tr>
<tr class="memdesc:a5e76ba88f521388eb57bbb51e77a659b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Standard routine for writing an object to io.  <a href="namespacecontroltypemodule.html#a5e76ba88f521388eb57bbb51e77a659b">More...</a><br /></td></tr>
<tr class="separator:a5e76ba88f521388eb57bbb51e77a659b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ab21abe0427f8f9194d24479dde1770"><td class="memItemLeft" align="right" valign="top">logical function, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecontroltypemodule.html#a0ab21abe0427f8f9194d24479dde1770">hascontrolelements</a> (ctrl)</td></tr>
<tr class="memdesc:a0ab21abe0427f8f9194d24479dde1770"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if control elements are present in the model.  <a href="namespacecontroltypemodule.html#a0ab21abe0427f8f9194d24479dde1770">More...</a><br /></td></tr>
<tr class="separator:a0ab21abe0427f8f9194d24479dde1770"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4af5813f0cd36dc1f32cfd7e10c2fc10"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecontroltypemodule.html#a4af5813f0cd36dc1f32cfd7e10c2fc10">writectrlsysheader</a> (ctrl, mechId, rdb)</td></tr>
<tr class="memdesc:a4af5813f0cd36dc1f32cfd7e10c2fc10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes results database headers for the control system.  <a href="namespacecontroltypemodule.html#a4af5813f0cd36dc1f32cfd7e10c2fc10">More...</a><br /></td></tr>
<tr class="separator:a4af5813f0cd36dc1f32cfd7e10c2fc10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23fa66555119dbc779a93733c49420cb"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecontroltypemodule.html#a23fa66555119dbc779a93733c49420cb">writectrlsysdb</a> (rdb, ctrl, nStep, time, ierr)</td></tr>
<tr class="memdesc:a23fa66555119dbc779a93733c49420cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes control system data to the results database.  <a href="namespacecontroltypemodule.html#a23fa66555119dbc779a93733c49420cb">More...</a><br /></td></tr>
<tr class="separator:a23fa66555119dbc779a93733c49420cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Module with data types representing control system object of a model. </p>
<p>The module also contains subroutines for initializing the control system from the input file, as well as general subroutines and functions for for accessing the control system data. </p>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="aabb1918d67d6f1433abc016b097d1cad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabb1918d67d6f1433abc016b097d1cad">&#9670;&nbsp;</a></span>deallocatectrl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public controltypemodule::deallocatectrl </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="structcontroltypemodule_1_1controltype.html">controltype</a>), intent(inout)&#160;</td>
          <td class="paramname"><em>ctrl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deallocates the ControlType object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctrl</td><td>Control system data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Knut Morten Okstad</dd></dl>
<dl class="section date"><dt>Date</dt><dd>23 Jan 2017 </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacecontroltypemodule_aabb1918d67d6f1433abc016b097d1cad_icgraph.png" border="0" usemap="#anamespacecontroltypemodule_aabb1918d67d6f1433abc016b097d1cad_icgraph" alt=""/></div>
<map name="anamespacecontroltypemodule_aabb1918d67d6f1433abc016b097d1cad_icgraph" id="anamespacecontroltypemodule_aabb1918d67d6f1433abc016b097d1cad_icgraph">
<area shape="rect" title="Deallocates the ControlType object." alt="" coords="1092,222,1245,263"/>
<area shape="rect" href="namespacesolvermodule.html#a63566c45e8e23ae6afd3dfcf28796afd" title="Deallocates all dynamically allocated data." alt="" coords="841,229,1044,256"/>
<area shape="rect" href="namespacesolvermodule.html#aef77c02d4ed38569accb6f1fe2e7e636" title="Closes the result database files and any external modules used." alt="" coords="624,255,793,281"/>
<area shape="rect" href="namespacesolvermodule.html#a6e3fefff7a29d4f24d7b52a11cba43bd" title="Terminates the simulation and close the result database." alt="" coords="399,157,566,184"/>
<area shape="rect" href="namespacesolvermodule.html#a98becc18e10e1c5bd8ac605048e0aebe" title="Initializes the simulation model." alt="" coords="395,208,570,235"/>
<area shape="rect" href="namespacesolvermodule.html#ad942a07a7186496388f9fd3a54918faf" title="Restarts a running simulation model from the provided state." alt="" coords="389,280,576,307"/>
<area shape="rect" href="namespacefreqresponsemodule.html#ab724a650574c61985d742a7f0d21279c" title="Interface to the frequency&#45;domain solver module in Fedem." alt="" coords="405,342,561,383"/>
<area shape="rect" href="namespacesolvermodule.html#a048f4879c526c74e1ae704bc1cf2dd48" title="Solves for the next time step or iteration." alt="" coords="391,429,574,456"/>
<area shape="rect" href="solverDriver_8f90.html#a688267739853d43d34189be1365d3e33" title="Terminates the running solver process by deallocating all memory, etc." alt="" coords="196,5,276,32"/>
<area shape="rect" href="solverDriver_8f90.html#aa07e0fdca0c16c6bded8d8219dd3d3dc" title="Initializes a new simulation process." alt="" coords="197,56,275,83"/>
<area shape="rect" href="solverDriver_8f90.html#a28abf5f95b1e2d8dd4ae6c17f1f2d31a" title="Initializes a new simulation process." alt="" coords="197,107,275,133"/>
<area shape="rect" href="solverDriver_8f90.html#a43ba8eaac9f6ae5dd0a945584c31bf82" title="Initializes a new simulation process." alt="" coords="197,157,275,184"/>
<area shape="rect" href="solverDriver_8f90.html#a8e14233207067f1085bb7931cc1f7277" title="Initializes a new simulation process and restarts from provided state." alt="" coords="198,208,274,235"/>
<area shape="rect" href="solverDriver_8f90.html#abc8381a16b5750477e6f6c5e5f79acde" title="Initializes a new simulation process and restarts from provided state." alt="" coords="197,259,275,285"/>
<area shape="rect" href="solverDriver_8f90.html#a53a8d5ea2434ae00f5bf28cf66196cc3" title="Restarts a running solver process from the provided state." alt="" coords="191,309,281,336"/>
<area shape="rect" href="solverDriver_8f90.html#ac030f2d9c9b0bb0d9f6378bb2245cde8" title="Solves the next time increment by Newton&#45;Raphson iterations." alt="" coords="5,411,83,437"/>
<area shape="rect" href="namespaceinversemodule.html#a9502b109b6230e372fe609566135d17e" title=" " alt="" coords="131,461,341,488"/>
<area shape="rect" href="namespacesolvermodule.html#a1b92706b06bc176f7c61a0e3d4a427f1" title="Solves the ramp&#45;up stage, if any." alt="" coords="134,512,338,539"/>
</map>
</div>

</div>
</div>
<a id="a0ab21abe0427f8f9194d24479dde1770"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ab21abe0427f8f9194d24479dde1770">&#9670;&nbsp;</a></span>hascontrolelements()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">logical function, public controltypemodule::hascontrolelements </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="structcontroltypemodule_1_1controltype.html">controltype</a>), intent(in)&#160;</td>
          <td class="paramname"><em>ctrl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if control elements are present in the model. </p>

</div>
</div>
<a id="a60bb7e757bd776520bb7ceff74c8fa50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60bb7e757bd776520bb7ceff74c8fa50">&#9670;&nbsp;</a></span>initiatecontrol()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public controltypemodule::initiatecontrol </td>
          <td>(</td>
          <td class="paramtype">integer, dimension(:), intent(inout)&#160;</td>
          <td class="paramname"><em>mpar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structcontroltypemodule_1_1controltype.html">controltype</a>), intent(in)&#160;</td>
          <td class="paramname"><em>ctrl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the SAM control array MPAR with control system data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">mpar</td><td>Matrix of parameters </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ctrl</td><td>Control system data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Knut Morten Okstad</dd></dl>
<dl class="section date"><dt>Date</dt><dd>Apr 2003 </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacecontroltypemodule_a60bb7e757bd776520bb7ceff74c8fa50_icgraph.png" border="0" usemap="#anamespacecontroltypemodule_a60bb7e757bd776520bb7ceff74c8fa50_icgraph" alt=""/></div>
<map name="anamespacecontroltypemodule_a60bb7e757bd776520bb7ceff74c8fa50_icgraph" id="anamespacecontroltypemodule_a60bb7e757bd776520bb7ceff74c8fa50_icgraph">
<area shape="rect" title="Initializes the SAM control array MPAR with control system data." alt="" coords="667,99,820,141"/>
<area shape="rect" href="namespaceinitiatemodule.html#afb73962d4ec4715c77b340b56066af70" title="Administers preprocessing of model data for the dynamics solver." alt="" coords="353,107,619,133"/>
<area shape="rect" href="namespacesolvermodule.html#a98becc18e10e1c5bd8ac605048e0aebe" title="Initializes the simulation model." alt="" coords="131,107,305,133"/>
<area shape="rect" href="solverDriver_8f90.html#aa07e0fdca0c16c6bded8d8219dd3d3dc" title="Initializes a new simulation process." alt="" coords="5,5,83,32"/>
<area shape="rect" href="solverDriver_8f90.html#a28abf5f95b1e2d8dd4ae6c17f1f2d31a" title="Initializes a new simulation process." alt="" coords="5,56,83,83"/>
<area shape="rect" href="solverDriver_8f90.html#a43ba8eaac9f6ae5dd0a945584c31bf82" title="Initializes a new simulation process." alt="" coords="5,107,83,133"/>
<area shape="rect" href="solverDriver_8f90.html#a8e14233207067f1085bb7931cc1f7277" title="Initializes a new simulation process and restarts from provided state." alt="" coords="6,157,82,184"/>
<area shape="rect" href="solverDriver_8f90.html#abc8381a16b5750477e6f6c5e5f79acde" title="Initializes a new simulation process and restarts from provided state." alt="" coords="5,208,83,235"/>
</map>
</div>

</div>
</div>
<a id="a4b26c395e0ddc175fc3a0671430c1eff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b26c395e0ddc175fc3a0671430c1eff">&#9670;&nbsp;</a></span>nullifyctrl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public controltypemodule::nullifyctrl </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="structcontroltypemodule_1_1controltype.html">controltype</a>), intent(out)&#160;</td>
          <td class="paramname"><em>ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(in), optional&#160;</td>
          <td class="paramname"><em>deallocating</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the ControlType object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">ctrl</td><td>Control system data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">deallocating</td><td>If .true., the pointers are nullified</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Knut Morten Okstad</dd></dl>
<dl class="section date"><dt>Date</dt><dd>4 Jul 2004 </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacecontroltypemodule_a4b26c395e0ddc175fc3a0671430c1eff_icgraph.png" border="0" usemap="#anamespacecontroltypemodule_a4b26c395e0ddc175fc3a0671430c1eff_icgraph" alt=""/></div>
<map name="anamespacecontroltypemodule_a4b26c395e0ddc175fc3a0671430c1eff_icgraph" id="anamespacecontroltypemodule_a4b26c395e0ddc175fc3a0671430c1eff_icgraph">
<area shape="rect" title="Initializes the ControlType object." alt="" coords="1313,233,1467,274"/>
<area shape="rect" href="namespacecontroltypemodule.html#aabb1918d67d6f1433abc016b097d1cad" title="Deallocates the ControlType object." alt="" coords="1112,178,1265,219"/>
<area shape="rect" href="namespaceinitiatemodule.html#afffa92f3c80736848396a95c9a5527b0" title="Administers reading of model data from the FEDEM solver input file." alt="" coords="841,320,1064,347"/>
<area shape="rect" href="namespacesolvermodule.html#a63566c45e8e23ae6afd3dfcf28796afd" title="Deallocates all dynamically allocated data." alt="" coords="851,168,1054,195"/>
<area shape="rect" href="namespacesolvermodule.html#aef77c02d4ed38569accb6f1fe2e7e636" title="Closes the result database files and any external modules used." alt="" coords="624,168,793,195"/>
<area shape="rect" href="namespacesolvermodule.html#a6e3fefff7a29d4f24d7b52a11cba43bd" title="Terminates the simulation and close the result database." alt="" coords="399,67,566,93"/>
<area shape="rect" href="namespacesolvermodule.html#a98becc18e10e1c5bd8ac605048e0aebe" title="Initializes the simulation model." alt="" coords="395,360,570,387"/>
<area shape="rect" href="namespacesolvermodule.html#ad942a07a7186496388f9fd3a54918faf" title="Restarts a running simulation model from the provided state." alt="" coords="389,117,576,144"/>
<area shape="rect" href="namespacefreqresponsemodule.html#ab724a650574c61985d742a7f0d21279c" title="Interface to the frequency&#45;domain solver module in Fedem." alt="" coords="405,241,561,282"/>
<area shape="rect" href="namespacesolvermodule.html#a048f4879c526c74e1ae704bc1cf2dd48" title="Solves for the next time step or iteration." alt="" coords="391,168,574,195"/>
<area shape="rect" href="solverDriver_8f90.html#a688267739853d43d34189be1365d3e33" title="Terminates the running solver process by deallocating all memory, etc." alt="" coords="196,5,276,32"/>
<area shape="rect" href="solverDriver_8f90.html#aa07e0fdca0c16c6bded8d8219dd3d3dc" title="Initializes a new simulation process." alt="" coords="197,411,275,437"/>
<area shape="rect" href="solverDriver_8f90.html#a28abf5f95b1e2d8dd4ae6c17f1f2d31a" title="Initializes a new simulation process." alt="" coords="197,461,275,488"/>
<area shape="rect" href="solverDriver_8f90.html#a43ba8eaac9f6ae5dd0a945584c31bf82" title="Initializes a new simulation process." alt="" coords="197,512,275,539"/>
<area shape="rect" href="solverDriver_8f90.html#a8e14233207067f1085bb7931cc1f7277" title="Initializes a new simulation process and restarts from provided state." alt="" coords="198,309,274,336"/>
<area shape="rect" href="solverDriver_8f90.html#abc8381a16b5750477e6f6c5e5f79acde" title="Initializes a new simulation process and restarts from provided state." alt="" coords="197,360,275,387"/>
<area shape="rect" href="solverDriver_8f90.html#a53a8d5ea2434ae00f5bf28cf66196cc3" title="Restarts a running solver process from the provided state." alt="" coords="191,56,281,83"/>
<area shape="rect" href="solverDriver_8f90.html#ac030f2d9c9b0bb0d9f6378bb2245cde8" title="Solves the next time increment by Newton&#45;Raphson iterations." alt="" coords="5,157,83,184"/>
<area shape="rect" href="namespaceinversemodule.html#a9502b109b6230e372fe609566135d17e" title=" " alt="" coords="131,208,341,235"/>
<area shape="rect" href="namespacesolvermodule.html#a1b92706b06bc176f7c61a0e3d4a427f1" title="Solves the ramp&#45;up stage, if any." alt="" coords="134,107,338,133"/>
</map>
</div>

</div>
</div>
<a id="ada31313ec8c6ef39f96a2928a963dd6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada31313ec8c6ef39f96a2928a963dd6c">&#9670;&nbsp;</a></span>readcontrolelements()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine controltypemodule::readcontrolelements </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>infp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>nCEl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>nDelay</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(:), intent(out)&#160;</td>
          <td class="paramname"><em>mpmtop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(:), intent(out)&#160;</td>
          <td class="paramname"><em>mprpar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(:), intent(out)&#160;</td>
          <td class="paramname"><em>mmtop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real(dp), dimension(:), intent(out)&#160;</td>
          <td class="paramname"><em>rpar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>iprint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>ierr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads data for the control elements from the solver input file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">infp</td><td>File unit number for the solver input file </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nCEl</td><td>Total number of control elements in the model </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">nDelay</td><td>Number of delay elements in the model </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">mpmtop</td><td>Matrix of pointers to topology vectors </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">mprpar</td><td>Matrix of pointers to real data for the control elements </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">mmtop</td><td>Topology vectors for the control elements </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rpar</td><td>Real data for the control elements </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">iprint</td><td>Print switch; the higher value the more print is produced </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lpu</td><td>File unit number for res-file output </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ierr</td><td>Error flag</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Bjorn Haugen</dd></dl>
<dl class="section date"><dt>Date</dt><dd>Aug 2000 </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacecontroltypemodule_ada31313ec8c6ef39f96a2928a963dd6c_icgraph.png" border="0" usemap="#anamespacecontroltypemodule_ada31313ec8c6ef39f96a2928a963dd6c_icgraph" alt=""/></div>
<map name="anamespacecontroltypemodule_ada31313ec8c6ef39f96a2928a963dd6c_icgraph" id="anamespacecontroltypemodule_ada31313ec8c6ef39f96a2928a963dd6c_icgraph">
<area shape="rect" title="Reads data for the control elements from the solver input file." alt="" coords="825,99,983,141"/>
<area shape="rect" href="namespacecontroltypemodule.html#a437f76ff86b8f84f66f5ac34399d34e4" title="Initializes the ControlType object with data from the input file." alt="" coords="624,99,777,141"/>
<area shape="rect" href="namespaceinitiatemodule.html#afffa92f3c80736848396a95c9a5527b0" title="Administers reading of model data from the FEDEM solver input file." alt="" coords="353,107,576,133"/>
<area shape="rect" href="namespacesolvermodule.html#a98becc18e10e1c5bd8ac605048e0aebe" title="Initializes the simulation model." alt="" coords="131,107,305,133"/>
<area shape="rect" href="solverDriver_8f90.html#aa07e0fdca0c16c6bded8d8219dd3d3dc" title="Initializes a new simulation process." alt="" coords="5,5,83,32"/>
<area shape="rect" href="solverDriver_8f90.html#a28abf5f95b1e2d8dd4ae6c17f1f2d31a" title="Initializes a new simulation process." alt="" coords="5,56,83,83"/>
<area shape="rect" href="solverDriver_8f90.html#a43ba8eaac9f6ae5dd0a945584c31bf82" title="Initializes a new simulation process." alt="" coords="5,107,83,133"/>
<area shape="rect" href="solverDriver_8f90.html#a8e14233207067f1085bb7931cc1f7277" title="Initializes a new simulation process and restarts from provided state." alt="" coords="6,157,82,184"/>
<area shape="rect" href="solverDriver_8f90.html#abc8381a16b5750477e6f6c5e5f79acde" title="Initializes a new simulation process and restarts from provided state." alt="" coords="5,208,83,235"/>
</map>
</div>

</div>
</div>
<a id="a5369b89081ffd7c6f959e40846b54bc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5369b89081ffd7c6f959e40846b54bc3">&#9670;&nbsp;</a></span>readcontrolinput()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine controltypemodule::readcontrolinput </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>infp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structfunctiontypemodule_1_1enginetype.html">enginetype</a>), dimension(:), intent(in)&#160;</td>
          <td class="paramname"><em>engines</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structsensortypemodule_1_1sensortype.html">sensortype</a>), dimension(:), intent(in)&#160;</td>
          <td class="paramname"><em>sensors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structcontroltypemodule_1_1ctrlprm.html">ctrlprm</a>), dimension(:), intent(out)&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(:), intent(out)&#160;</td>
          <td class="paramname"><em>mstat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>ierr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads data for the control inputs from the solver input file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">infp</td><td>File unit number for the solver input file </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">engines</td><td>All general functions in the model </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sensors</td><td>All sensors (function argument objects) in the model </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">input</td><td>Control input parameters </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">mstat</td><td>Status flags for the control variables </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ierr</td><td>Error flag</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Bjorn Haugen</dd></dl>
<dl class="section date"><dt>Date</dt><dd>Aug 2000 </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacecontroltypemodule_a5369b89081ffd7c6f959e40846b54bc3_icgraph.png" border="0" usemap="#anamespacecontroltypemodule_a5369b89081ffd7c6f959e40846b54bc3_icgraph" alt=""/></div>
<map name="anamespacecontroltypemodule_a5369b89081ffd7c6f959e40846b54bc3_icgraph" id="anamespacecontroltypemodule_a5369b89081ffd7c6f959e40846b54bc3_icgraph">
<area shape="rect" title="Reads data for the control inputs from the solver input file." alt="" coords="825,99,979,141"/>
<area shape="rect" href="namespacecontroltypemodule.html#a437f76ff86b8f84f66f5ac34399d34e4" title="Initializes the ControlType object with data from the input file." alt="" coords="624,99,777,141"/>
<area shape="rect" href="namespaceinitiatemodule.html#afffa92f3c80736848396a95c9a5527b0" title="Administers reading of model data from the FEDEM solver input file." alt="" coords="353,107,576,133"/>
<area shape="rect" href="namespacesolvermodule.html#a98becc18e10e1c5bd8ac605048e0aebe" title="Initializes the simulation model." alt="" coords="131,107,305,133"/>
<area shape="rect" href="solverDriver_8f90.html#aa07e0fdca0c16c6bded8d8219dd3d3dc" title="Initializes a new simulation process." alt="" coords="5,5,83,32"/>
<area shape="rect" href="solverDriver_8f90.html#a28abf5f95b1e2d8dd4ae6c17f1f2d31a" title="Initializes a new simulation process." alt="" coords="5,56,83,83"/>
<area shape="rect" href="solverDriver_8f90.html#a43ba8eaac9f6ae5dd0a945584c31bf82" title="Initializes a new simulation process." alt="" coords="5,107,83,133"/>
<area shape="rect" href="solverDriver_8f90.html#a8e14233207067f1085bb7931cc1f7277" title="Initializes a new simulation process and restarts from provided state." alt="" coords="6,157,82,184"/>
<area shape="rect" href="solverDriver_8f90.html#abc8381a16b5750477e6f6c5e5f79acde" title="Initializes a new simulation process and restarts from provided state." alt="" coords="5,208,83,235"/>
</map>
</div>

</div>
</div>
<a id="a437f76ff86b8f84f66f5ac34399d34e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a437f76ff86b8f84f66f5ac34399d34e4">&#9670;&nbsp;</a></span>readcontrolsystem()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public controltypemodule::readcontrolsystem </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>infp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structfunctiontypemodule_1_1enginetype.html">enginetype</a>), dimension(:), intent(in)&#160;</td>
          <td class="paramname"><em>engines</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structsensortypemodule_1_1sensortype.html">sensortype</a>), dimension(:), intent(in)&#160;</td>
          <td class="paramname"><em>sensors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structcontroltypemodule_1_1controltype.html">controltype</a>), intent(out)&#160;</td>
          <td class="paramname"><em>ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>ierr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the ControlType object with data from the input file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">infp</td><td>File unit number for the solver input file </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">engines</td><td>All general functions in the model </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sensors</td><td>All sensors (function argument objects) in the model </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ctrl</td><td>Control system data of the model </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ierr</td><td>Error flag</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Knut Morten Okstad</dd></dl>
<dl class="section date"><dt>Date</dt><dd>Jul 2000 </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacecontroltypemodule_a437f76ff86b8f84f66f5ac34399d34e4_cgraph.png" border="0" usemap="#anamespacecontroltypemodule_a437f76ff86b8f84f66f5ac34399d34e4_cgraph" alt=""/></div>
<map name="anamespacecontroltypemodule_a437f76ff86b8f84f66f5ac34399d34e4_cgraph" id="anamespacecontroltypemodule_a437f76ff86b8f84f66f5ac34399d34e4_cgraph">
<area shape="rect" title="Initializes the ControlType object with data from the input file." alt="" coords="5,122,159,163"/>
<area shape="rect" href="namespaceinpututilities.html#a7fc8ab6fd7aa6467233771427cbd8e76" title="Counts number of entries of a text string in a solver input file." alt="" coords="207,5,460,32"/>
<area shape="rect" href="namespacecontroltypemodule.html#ada31313ec8c6ef39f96a2928a963dd6c" title="Reads data for the control elements from the solver input file." alt="" coords="255,57,412,98"/>
<area shape="rect" href="namespacecontroltypemodule.html#a5369b89081ffd7c6f959e40846b54bc3" title="Reads data for the control inputs from the solver input file." alt="" coords="257,122,410,163"/>
<area shape="rect" href="namespacecontroltypemodule.html#a646f1776229632bdc330e72d188971cc" title="Reads status codes and initial conditions for the control variables." alt="" coords="255,187,411,229"/>
<area shape="rect" href="namespaceextctrlsystypemodule.html#a6635aceb8a9fad93c7be6fe60c85b3e7" title=" " alt="" coords="251,253,415,294"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacecontroltypemodule_a437f76ff86b8f84f66f5ac34399d34e4_icgraph.png" border="0" usemap="#anamespacecontroltypemodule_a437f76ff86b8f84f66f5ac34399d34e4_icgraph" alt=""/></div>
<map name="anamespacecontroltypemodule_a437f76ff86b8f84f66f5ac34399d34e4_icgraph" id="anamespacecontroltypemodule_a437f76ff86b8f84f66f5ac34399d34e4_icgraph">
<area shape="rect" title="Initializes the ControlType object with data from the input file." alt="" coords="624,99,777,141"/>
<area shape="rect" href="namespaceinitiatemodule.html#afffa92f3c80736848396a95c9a5527b0" title="Administers reading of model data from the FEDEM solver input file." alt="" coords="353,107,576,133"/>
<area shape="rect" href="namespacesolvermodule.html#a98becc18e10e1c5bd8ac605048e0aebe" title="Initializes the simulation model." alt="" coords="131,107,305,133"/>
<area shape="rect" href="solverDriver_8f90.html#aa07e0fdca0c16c6bded8d8219dd3d3dc" title="Initializes a new simulation process." alt="" coords="5,5,83,32"/>
<area shape="rect" href="solverDriver_8f90.html#a28abf5f95b1e2d8dd4ae6c17f1f2d31a" title="Initializes a new simulation process." alt="" coords="5,56,83,83"/>
<area shape="rect" href="solverDriver_8f90.html#a43ba8eaac9f6ae5dd0a945584c31bf82" title="Initializes a new simulation process." alt="" coords="5,107,83,133"/>
<area shape="rect" href="solverDriver_8f90.html#a8e14233207067f1085bb7931cc1f7277" title="Initializes a new simulation process and restarts from provided state." alt="" coords="6,157,82,184"/>
<area shape="rect" href="solverDriver_8f90.html#abc8381a16b5750477e6f6c5e5f79acde" title="Initializes a new simulation process and restarts from provided state." alt="" coords="5,208,83,235"/>
</map>
</div>

</div>
</div>
<a id="a646f1776229632bdc330e72d188971cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a646f1776229632bdc330e72d188971cc">&#9670;&nbsp;</a></span>readcontrolvariables()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine controltypemodule::readcontrolvariables </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>infp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(:), intent(out)&#160;</td>
          <td class="paramname"><em>mstat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real(dp), dimension(:), intent(out)&#160;</td>
          <td class="paramname"><em>vreg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structidtypemodule_1_1idtype.html">idtype</a>), dimension(:), intent(out)&#160;</td>
          <td class="paramname"><em>vregId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(:), intent(out)&#160;</td>
          <td class="paramname"><em>mvar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>iprint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>ierr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads status codes and initial conditions for the control variables. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">infp</td><td>File unit number for the solver input file </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">mstat</td><td>Status flags for the control variables </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">vreg</td><td>The control state variables </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">vregId</td><td>Id for the control line variables </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">mvar</td><td>Control variables for extra control lines </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">iprint</td><td>Print switch; the higher value the more print is produced </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lpu</td><td>File unit number for res-file output </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ierr</td><td>Error flag</td></tr>
  </table>
  </dd>
</dl>
<p>This subroutine reads status codes and initial conditions for all control variables in the model from the solver input file. It also reads the Id of other control lines referring to each variable. This is needed such that the control variable value can be written to the results database for all control lines that refer to it (Bugfix #323).</p>
<dl class="section author"><dt>Author</dt><dd>Bjorn Haugen </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Aug 2000</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Knut Morten Okstad </dd></dl>
<dl class="section date"><dt>Date</dt><dd>29 Apr 2017 </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacecontroltypemodule_a646f1776229632bdc330e72d188971cc_icgraph.png" border="0" usemap="#anamespacecontroltypemodule_a646f1776229632bdc330e72d188971cc_icgraph" alt=""/></div>
<map name="anamespacecontroltypemodule_a646f1776229632bdc330e72d188971cc_icgraph" id="anamespacecontroltypemodule_a646f1776229632bdc330e72d188971cc_icgraph">
<area shape="rect" title="Reads status codes and initial conditions for the control variables." alt="" coords="825,99,981,141"/>
<area shape="rect" href="namespacecontroltypemodule.html#a437f76ff86b8f84f66f5ac34399d34e4" title="Initializes the ControlType object with data from the input file." alt="" coords="624,99,777,141"/>
<area shape="rect" href="namespaceinitiatemodule.html#afffa92f3c80736848396a95c9a5527b0" title="Administers reading of model data from the FEDEM solver input file." alt="" coords="353,107,576,133"/>
<area shape="rect" href="namespacesolvermodule.html#a98becc18e10e1c5bd8ac605048e0aebe" title="Initializes the simulation model." alt="" coords="131,107,305,133"/>
<area shape="rect" href="solverDriver_8f90.html#aa07e0fdca0c16c6bded8d8219dd3d3dc" title="Initializes a new simulation process." alt="" coords="5,5,83,32"/>
<area shape="rect" href="solverDriver_8f90.html#a28abf5f95b1e2d8dd4ae6c17f1f2d31a" title="Initializes a new simulation process." alt="" coords="5,56,83,83"/>
<area shape="rect" href="solverDriver_8f90.html#a43ba8eaac9f6ae5dd0a945584c31bf82" title="Initializes a new simulation process." alt="" coords="5,107,83,133"/>
<area shape="rect" href="solverDriver_8f90.html#a8e14233207067f1085bb7931cc1f7277" title="Initializes a new simulation process and restarts from provided state." alt="" coords="6,157,82,184"/>
<area shape="rect" href="solverDriver_8f90.html#abc8381a16b5750477e6f6c5e5f79acde" title="Initializes a new simulation process and restarts from provided state." alt="" coords="5,208,83,235"/>
</map>
</div>

</div>
</div>
<a id="a5e76ba88f521388eb57bbb51e77a659b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e76ba88f521388eb57bbb51e77a659b">&#9670;&nbsp;</a></span>writecontroltype()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine controltypemodule::writecontroltype </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="structcontroltypemodule_1_1controltype.html">controltype</a>), intent(in)&#160;</td>
          <td class="paramname"><em>ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in), optional&#160;</td>
          <td class="paramname"><em>complexity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Standard routine for writing an object to io. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctrl</td><td>Control system data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">io</td><td>File unit number to write to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">complexity</td><td>If present, the value indicates the amount of print</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Knut Morten Okstad</dd></dl>
<dl class="section date"><dt>Date</dt><dd>27 Jul 2000 </dd></dl>

</div>
</div>
<a id="a23fa66555119dbc779a93733c49420cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23fa66555119dbc779a93733c49420cb">&#9670;&nbsp;</a></span>writectrlsysdb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public controltypemodule::writectrlsysdb </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="structrdbmodule_1_1rdbtype.html">rdbtype</a>), intent(inout)&#160;</td>
          <td class="paramname"><em>rdb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structcontroltypemodule_1_1controltype.html">controltype</a>), intent(in)&#160;</td>
          <td class="paramname"><em>ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer(i8), intent(in)&#160;</td>
          <td class="paramname"><em>nStep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real(dp), intent(in)&#160;</td>
          <td class="paramname"><em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>ierr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes control system data to the results database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">rdb</td><td>Results database file for control system data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ctrl</td><td>Control system data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nStep</td><td>Time step number </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">time</td><td>Current time </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ierr</td><td>Error flag</td></tr>
  </table>
  </dd>
</dl>
<p>Only the arrays that need to be restored in a restart are saved.</p>
<dl class="section author"><dt>Author</dt><dd>Knut Morten Okstad</dd></dl>
<dl class="section date"><dt>Date</dt><dd>25 Oct 2008 </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacecontroltypemodule_a23fa66555119dbc779a93733c49420cb_cgraph.png" border="0" usemap="#anamespacecontroltypemodule_a23fa66555119dbc779a93733c49420cb_cgraph" alt=""/></div>
<map name="anamespacecontroltypemodule_a23fa66555119dbc779a93733c49420cb_cgraph" id="anamespacecontroltypemodule_a23fa66555119dbc779a93733c49420cb_cgraph">
<area shape="rect" title="Writes control system data to the results database." alt="" coords="5,74,159,115"/>
<area shape="rect" href="namespacerdbmodule.html#a7850da2d310d0ef72199c2e73b87ab66" title="Checks that the estimated number of bytes per time is correct." alt="" coords="214,5,406,32"/>
<area shape="rect" href="controlTypeModule_8f90.html#af26c9eeacea49649746361505bba9d88" title="Writes an indexed integer array to io." alt="" coords="270,56,350,83"/>
<area shape="rect" href="controlTypeModule_8f90.html#a4ab885518fe71de6c745ebd57b2860dc" title="Writes an indexed real array to io." alt="" coords="269,107,351,133"/>
<area shape="rect" href="namespacerdbmodule.html#a6f21d1d878c1b0ac3880c21c23b214ff" title="Writes current time step to the specified results database file." alt="" coords="207,157,413,184"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacecontroltypemodule_a23fa66555119dbc779a93733c49420cb_icgraph.png" border="0" usemap="#anamespacecontroltypemodule_a23fa66555119dbc779a93733c49420cb_icgraph" alt=""/></div>
<map name="anamespacecontroltypemodule_a23fa66555119dbc779a93733c49420cb_icgraph" id="anamespacecontroltypemodule_a23fa66555119dbc779a93733c49420cb_icgraph">
<area shape="rect" title="Writes control system data to the results database." alt="" coords="1065,229,1219,270"/>
<area shape="rect" href="namespacesolverroutinesmodule.html#a7716799bcfc2860355c412a4ee3da400" title="Saves response variables of current time step to file." alt="" coords="853,229,1017,270"/>
<area shape="rect" href="namespacesolvermodule.html#a98becc18e10e1c5bd8ac605048e0aebe" title="Initializes the simulation model." alt="" coords="393,112,568,139"/>
<area shape="rect" href="namespacenewmarkroutinesmodule.html#a4998597a0918626e80be5fcf91c40819" title="Advances the dynamics solution one step forward." alt="" coords="620,229,805,270"/>
<area shape="rect" href="namespacesolvermodule.html#a048f4879c526c74e1ae704bc1cf2dd48" title="Solves for the next time step or iteration." alt="" coords="389,300,572,327"/>
<area shape="rect" href="namespacestaticequilibriummodule.html#a0f1bc8d14ea2d090018de7485bf8a2ae" title="Performs static equilibrium iterations to find start configuration." alt="" coords="622,163,803,205"/>
<area shape="rect" href="namespacestaticequilibriummodule.html#aac6e8c83f3a0d690bf57832bf35012bf" title="Advances the quasi&#45;static solution one time step." alt="" coords="622,346,803,387"/>
<area shape="rect" href="solverDriver_8f90.html#aa07e0fdca0c16c6bded8d8219dd3d3dc" title="Initializes a new simulation process." alt="" coords="197,5,275,32"/>
<area shape="rect" href="solverDriver_8f90.html#a28abf5f95b1e2d8dd4ae6c17f1f2d31a" title="Initializes a new simulation process." alt="" coords="197,56,275,83"/>
<area shape="rect" href="solverDriver_8f90.html#a43ba8eaac9f6ae5dd0a945584c31bf82" title="Initializes a new simulation process." alt="" coords="197,107,275,133"/>
<area shape="rect" href="solverDriver_8f90.html#a8e14233207067f1085bb7931cc1f7277" title="Initializes a new simulation process and restarts from provided state." alt="" coords="198,157,274,184"/>
<area shape="rect" href="solverDriver_8f90.html#abc8381a16b5750477e6f6c5e5f79acde" title="Initializes a new simulation process and restarts from provided state." alt="" coords="197,208,275,235"/>
<area shape="rect" href="solverDriver_8f90.html#ac030f2d9c9b0bb0d9f6378bb2245cde8" title="Solves the next time increment by Newton&#45;Raphson iterations." alt="" coords="5,309,83,336"/>
<area shape="rect" href="namespaceinversemodule.html#a9502b109b6230e372fe609566135d17e" title=" " alt="" coords="131,309,341,336"/>
<area shape="rect" href="namespacesolvermodule.html#a1b92706b06bc176f7c61a0e3d4a427f1" title="Solves the ramp&#45;up stage, if any." alt="" coords="134,360,338,387"/>
</map>
</div>

</div>
</div>
<a id="a4af5813f0cd36dc1f32cfd7e10c2fc10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4af5813f0cd36dc1f32cfd7e10c2fc10">&#9670;&nbsp;</a></span>writectrlsysheader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public controltypemodule::writectrlsysheader </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="structcontroltypemodule_1_1controltype.html">controltype</a>), intent(in)&#160;</td>
          <td class="paramname"><em>ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structidtypemodule_1_1idtype.html">idtype</a>), intent(in)&#160;</td>
          <td class="paramname"><em>mechId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structrdbmodule_1_1rdbtype.html">rdbtype</a>), intent(inout)&#160;</td>
          <td class="paramname"><em>rdb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes results database headers for the control system. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ctrl</td><td>Control system data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mechId</td><td>Id of the mechanism object </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">rdb</td><td>Results database file for control system data</td></tr>
  </table>
  </dd>
</dl>
<p>This subroutine saves only those arrays that need to be restored in a restart. The list of arrays stored <em>must</em> match that in <a class="el" href="namespacecontroltypemodule.html#a23fa66555119dbc779a93733c49420cb" title="Writes control system data to the results database.">controltypemodule::writectrlsysdb()</a>, and should at least contain the arrays referred in <a class="el" href="namespacerestartmodule.html#a1e778b46c512080b2dc49cc0941d6bbc" title="Reads control system data from results database for restart.">restartmodule::readcontroldata()</a>.</p>
<dl class="section author"><dt>Author</dt><dd>Knut Morten Okstad</dd></dl>
<dl class="section date"><dt>Date</dt><dd>25 Oct 2008 </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacecontroltypemodule_a4af5813f0cd36dc1f32cfd7e10c2fc10_icgraph.png" border="0" usemap="#anamespacecontroltypemodule_a4af5813f0cd36dc1f32cfd7e10c2fc10_icgraph" alt=""/></div>
<map name="anamespacecontroltypemodule_a4af5813f0cd36dc1f32cfd7e10c2fc10_icgraph" id="anamespacecontroltypemodule_a4af5813f0cd36dc1f32cfd7e10c2fc10_icgraph">
<area shape="rect" title="Writes results database headers for the control system." alt="" coords="907,251,1060,293"/>
<area shape="rect" href="namespacesavemodule.html#adca0b67d2247d06df16e1578e5879653" title="Administers writing of results database headers." alt="" coords="624,259,859,285"/>
<area shape="rect" href="namespacesolvermodule.html#a98becc18e10e1c5bd8ac605048e0aebe" title="Initializes the simulation model." alt="" coords="395,132,570,159"/>
<area shape="rect" href="namespacesolvermodule.html#ad942a07a7186496388f9fd3a54918faf" title="Restarts a running simulation model from the provided state." alt="" coords="389,259,576,285"/>
<area shape="rect" href="namespacesolvermodule.html#a048f4879c526c74e1ae704bc1cf2dd48" title="Solves for the next time step or iteration." alt="" coords="391,335,574,361"/>
<area shape="rect" href="solverDriver_8f90.html#aa07e0fdca0c16c6bded8d8219dd3d3dc" title="Initializes a new simulation process." alt="" coords="197,5,275,32"/>
<area shape="rect" href="solverDriver_8f90.html#a28abf5f95b1e2d8dd4ae6c17f1f2d31a" title="Initializes a new simulation process." alt="" coords="197,56,275,83"/>
<area shape="rect" href="solverDriver_8f90.html#a43ba8eaac9f6ae5dd0a945584c31bf82" title="Initializes a new simulation process." alt="" coords="197,107,275,133"/>
<area shape="rect" href="solverDriver_8f90.html#a8e14233207067f1085bb7931cc1f7277" title="Initializes a new simulation process and restarts from provided state." alt="" coords="198,157,274,184"/>
<area shape="rect" href="solverDriver_8f90.html#abc8381a16b5750477e6f6c5e5f79acde" title="Initializes a new simulation process and restarts from provided state." alt="" coords="197,208,275,235"/>
<area shape="rect" href="solverDriver_8f90.html#a53a8d5ea2434ae00f5bf28cf66196cc3" title="Restarts a running solver process from the provided state." alt="" coords="191,259,281,285"/>
<area shape="rect" href="solverDriver_8f90.html#ac030f2d9c9b0bb0d9f6378bb2245cde8" title="Solves the next time increment by Newton&#45;Raphson iterations." alt="" coords="5,360,83,387"/>
<area shape="rect" href="namespaceinversemodule.html#a9502b109b6230e372fe609566135d17e" title=" " alt="" coords="131,360,341,387"/>
<area shape="rect" href="namespacesolvermodule.html#a1b92706b06bc176f7c61a0e3d4a427f1" title="Solves the ramp&#45;up stage, if any." alt="" coords="134,411,338,437"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Oct 15 2025 14:36:58 for FEDEM Solver by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
